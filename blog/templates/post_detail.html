<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <title>
        {% if post %}
            {{ post.title }}
        {% else %}
            –ü–æ—Å—Ç –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ
        {% endif %}
    </title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">

<div class="container py-5">

    {% if post %}
        <div class="card shadow-sm border-0 rounded-4 mb-4">
            <div class="card-body">
                <h1 class="card-title text-primary fw-bold">{{ post.title }}</h1>

                <p class="text-muted mb-1">
                    <strong>–ê–≤—Ç–æ—Ä:</strong>
                    {% if post.author %}
                        <a href="{% url 'posts_by_author' post.author.pk %}" class="text-decoration-none">
                            {{ post.author.name }}
                        </a>
                    {% else %}
                        <span class="fst-italic">–ù–µ–≤—ñ–¥–æ–º–∏–π</span>
                    {% endif %}
                </p>

                <p class="text-muted">
                    <strong>–î–∞—Ç–∞ –ø—É–±–ª—ñ–∫–∞—Ü—ñ—ó:</strong> {{ post.published_date }}
                </p>

                <hr>
                <p class="card-text fs-5">{{ post.content }}</p>
            </div>
        </div>

        <div class="card shadow-sm border-0 rounded-4">
            <div class="card-body">
                <h2 class="h4 mb-4">üí¨ –ö–æ–º–µ–Ω—Ç–∞—Ä—ñ</h2>

                {% if post.comments.all %}
                    <div class="list-group">
                        {% for comment in post.comments.all %}
                            <div class="list-group-item border-0 border-bottom">
                                <strong>{{ comment.author_name }}</strong>
                                <span class="text-muted small">({{ comment.created_date|date:"d.m.Y H:i" }})</span>
                                <p class="mb-1">{{ comment.text }}</p>
                            </div>
                        {% endfor %}
                    </div>
                {% else %}
                    <div class="alert alert-info rounded-4 shadow-sm mb-0">
                        –ü–æ–∫–∏ –Ω–µ–º–∞—î –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤.
                    </div>
                {% endif %}
            </div>
        </div>
        <div class="alert alert-danger text-center rounded-4 shadow-sm">
            –ü–æ—Å—Ç –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ ‚ùå
        </div>
    {% endif %}

    <div class="mt-4">
        <a href="{% url 'post_list' %}" class="btn btn-outline-primary rounded-4">
            ‚Üê –ù–∞–∑–∞–¥ –¥–æ —Å–ø–∏—Å–∫—É –ø–æ—Å—Ç—ñ–≤
        </a>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>